<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contato</title>
    <link rel="stylesheet" href="/css/contact.css" />
  </head>
  <body>
    <header class="main-header">
      <div class="container">
        <nav class="main-nav">
          <ul class="nav-list">
            <div class="button-container">
              <button class="greenit-button">
              <div class="greenit-logo">
                <img src="/img/index/greeniticon.svg" alt="Logo Green IT" class="greenit-icon" />
              </div>
                <div class="button-text">
                  <span>GREEN</span>
                  <span>IT!</span>
                </div>
              </button>
            </div>
            <li>
              <a href="/home" class="nav-link">Página Inicial</a>
            </li>
            <li>
              <a href="/artigos" class="nav-link">Artigos</a>
            </li>
            <li>
              <a href="/pontos-de-descarte" class="nav-link"
                >Pontos de Descarte</a
              >
            </li>
          <li><a href="/contato" class="nav-link-active">Contato</a></li>

            <a href="/quiz/entrar">
              <button class="btn-login">
                Vamos Começar!
                <div class="icon">
                  <svg height="24" width="24" viewBox="0 0 24 24">
                    <path d="M0 0h24v24H0z" fill="none"></path>
                    <path
                      d="M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z"
                      fill="currentColor"
                    ></path>
                  </svg>
                </div>
              </button>
            </a>
          </ul>
        </nav>
      </div>
    </header>
    <div class="wrapper">
      <div class="borderscreen">
        <div class="master">
          <aside>
            <section id="anotherOng">
              <div class="test1">
                <div class="ongs">
                  <div id="ong1">
                    <div id="ongTitle1">
                      <h4>ONG Verde em Rede</h4>
                    </div>
                    <div id="ongMsg1">
                      Conecte, Cuide, Preserve. <br />
                      Sustentabilidade em Rede Comunitária
                    </div>
                  </div>
                  <div id="ong2">
                    <div id="ongTitle2">
                      <h4>ONG EcoAcao Brasil</h4>
                    </div>
                    <div id="ongMsg2">
                      Atitude que Transforma! <br />
                      Educação, coleta e reciclagem!
                    </div>
                  </div>
                  <div id="ong3">
                    <div id="ongTitle3">
                      <h4>ONG Planeta Vivo</h4>
                    </div>
                    <div id="ongMsg3">
                      Respire o futuro! <br />
                      Ações Verdes nas Escolas!
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </aside>
          <main>
            <section class="fields">
              <div class="test2">
                <div class="contactTitle">
                  <h3>
                    ENTRE EM CONTATO, DESCUBRA OUTRAS ONGS, DIVULGUE SUA ONG!
                  </h3>
                </div>
                <div id="titleContact">Preencha os campos abaixo</div>

                <form id="contactForm">
                  <div id="name">
                    <div id="typename">
                      <h4>Nome do Representante:</h4>
                    </div>
                    <input
                      type="text"
                      name="name"
                      id="representative_name"
                      class=""
                      required
                    />
                  </div>
                  <div id="email">
                    <h4>Email da Organização:</h4>
                  </div>
                  <input
                    type="email"
                    name="email"
                    id="representative_email"
                    class=""
                    required
                  />
                  <div id="msg">
                    <h4>Breve Mensagem:</h4>
                  </div>
                  <textarea
                    name="message"
                    id="message"
                    class=""
                    rows="4"
                    required
                  ></textarea>
                  <div class="button1">
                    <input type="submit" value="Enviar" id="send" />
                  </div>
                </form>
              </div>
            </section>
          </main>
        </div>
      </div>

      <footer class="green-footer">
        <div class="greenfooter">
          <img src="/img/contact/Vector2.svg" alt="" class="bluecolor" />
        </div>
        <div class="footer-columns">
          <div class="footer-col">
            <h3>Quem somos</h3>
            <ul>
              <li>Pesquisa</li>
              <li>Atividade</li>
              <li>Guia de Marca</li>
              <li>Entre em contato</li>
              <li>PUC MINAS</li>
              <li>Eficácia</li>
              <li>Cultura Green IT</li>
            </ul>
          </div>

          <div class="footer-col">
            <h3>Ajuda e suporte</h3>
            <ul>
              <li>Dúvidas: Green IT</li>
              <li>Dúvidas: ONG's</li>
              <li>Status</li>
            </ul>
          </div>

          <div class="footer-col">
            <h3>Termos e privacidade</h3>
            <ul>
              <li>Normas da comunidade</li>
              <li>Termos de uso</li>
              <li>Privacidade</li>
            </ul>
          </div>
        </div>

        <div class="footer-bottom">
          <h3>Deixe verde!</h3>
        </div>
      </footer>
    </div>

    <script>
      document.getElementById("contactForm").addEventListener("submit", function (event) {
        event.preventDefault();

        const data = {
          name: document.getElementById("representative_name").value.trim(),
          email: document.getElementById("representative_email").value.trim(),
          message: document.getElementById("message").value.trim(),
        };

        fetch("/contato/enviar", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data),
        })
          .then((res) => res.json())
          .then((response) => {
            alert(response.message);
            this.reset();
          })
          .catch((err) => {
            alert("Erro ao enviar mensagem. Tente novamente.");
            console.error(err);
          });
      });
    </script>
  </body>
</html>
